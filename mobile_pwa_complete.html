<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover\">\n    <meta name=\"theme-color\" content=\"#d4af37\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <meta name=\"apple-mobile-web-app-title\" content=\"绛唇解语花\">\n    <meta name=\"application-name\" content=\"绛唇解语花\">\n    <meta name=\"msapplication-TileColor\" content=\"#d4af37\">\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    \n    <!-- SEO and Social Media -->\n    <meta name=\"description\" content=\"专业唇部美学可视化系统，提供3D模型、AR体验、案例分析等功能，采用最新PWA技术，支持离线使用\">\n    <meta name=\"keywords\" content=\"唇部美学,3D模型,AR体验,医美,PWA,移动应用\">\n    <meta name=\"author\" content=\"Lips Aesthetics Team\">\n    \n    <title>绛唇解语花 - 专业唇部美学系统 PWA</title>\n    \n    <!-- PWA Manifest -->\n    <link rel=\"manifest\" href=\"pwa_manifest.json\">\n    \n    <!-- Icons -->\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192' fill='%23d4af37'%3E%3Cpath d='M96 16c-44.18 0-80 35.82-80 80s35.82 80 80 80 80-35.82 80-80-35.82-80-80-80zm0 144c-35.35 0-64-28.65-64-64s28.65-64 64-64 64 28.65 64 64-28.65 64-64 64z'/%3E%3C/svg%3E\">\n    <link rel=\"apple-touch-icon\" sizes=\"192x192\" href=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192' fill='%23d4af37'%3E%3Cpath d='M96 16c-44.18 0-80 35.82-80 80s35.82 80 80 80 80-35.82 80-80-35.82-80-80-80zm0 144c-35.35 0-64-28.65-64-64s28.65-64 64-64 64 28.65 64 64-28.65 64-64 64z'/%3E%3C/svg%3E\">\n    \n    <!-- Critical CSS - Inlined for Performance -->\n    <style>\n        /* Critical App Shell Styles */\n        :root {\n            --mobile-primary: #d4af37;\n            --mobile-background: #1e1e2e;\n            --mobile-surface: rgba(42, 42, 64, 0.95);\n            --mobile-text-primary: #ffffff;\n            --mobile-text-secondary: rgba(255, 255, 255, 0.75);\n            --mobile-border: rgba(255, 255, 255, 0.1);\n            --mobile-header-height: 56px;\n            --mobile-nav-height: 64px;\n            --mobile-safe-area-top: env(safe-area-inset-top, 0px);\n            --mobile-safe-area-bottom: env(safe-area-inset-bottom, 0px);\n            --mobile-safe-area-left: env(safe-area-inset-left, 0px);\n            --mobile-safe-area-right: env(safe-area-inset-right, 0px);\n        }\n        \n        *, *::before, *::after {\n            box-sizing: border-box;\n            margin: 0;\n            padding: 0;\n        }\n        \n        html {\n            font-size: 16px;\n            line-height: 1.5;\n            -webkit-text-size-adjust: 100%;\n            -webkit-tap-highlight-color: transparent;\n            scroll-behavior: smooth;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;\n            font-size: 16px;\n            line-height: 1.5;\n            color: var(--mobile-text-primary);\n            background: var(--mobile-background);\n            overflow-x: hidden;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n        }\n        \n        .app-loading {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: var(--mobile-background);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 9999;\n        }\n        \n        .loading-content {\n            text-align: center;\n            max-width: 300px;\n            padding: 2rem;\n        }\n        \n        .loading-logo {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 1.5rem;\n            background: var(--mobile-primary);\n            border-radius: 12px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 2rem;\n            animation: pulse 2s ease-in-out infinite alternate;\n        }\n        \n        @keyframes pulse {\n            from { transform: scale(1); opacity: 0.8; }\n            to { transform: scale(1.05); opacity: 1; }\n        }\n        \n        .loading-text {\n            font-size: 1.25rem;\n            margin-bottom: 1rem;\n            color: var(--mobile-primary);\n            font-weight: 600;\n        }\n        \n        .loading-subtext {\n            font-size: 0.875rem;\n            color: var(--mobile-text-secondary);\n            margin-bottom: 1.5rem;\n        }\n        \n        .loading-progress {\n            width: 200px;\n            height: 4px;\n            background: rgba(212, 175, 55, 0.2);\n            border-radius: 2px;\n            overflow: hidden;\n            margin: 0 auto;\n        }\n        \n        .loading-progress-bar {\n            height: 100%;\n            background: var(--mobile-primary);\n            border-radius: 2px;\n            animation: loading 2s ease-in-out infinite;\n        }\n        \n        @keyframes loading {\n            0% { width: 0%; }\n            50% { width: 70%; }\n            100% { width: 100%; }\n        }\n        \n        .app-ready .app-loading {\n            display: none;\n        }\n        \n        /* Installation prompt */\n        .install-banner {\n            position: fixed;\n            bottom: 20px;\n            left: 20px;\n            right: 20px;\n            background: var(--mobile-primary);\n            color: white;\n            padding: 1rem;\n            border-radius: 12px;\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n            transform: translateY(100px);\n            transition: transform 0.3s ease;\n            z-index: 1000;\n        }\n        \n        .install-banner.show {\n            transform: translateY(0);\n        }\n        \n        .install-banner-content {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n        }\n        \n        .install-banner-icon {\n            font-size: 1.5rem;\n        }\n        \n        .install-banner-text {\n            flex: 1;\n            font-size: 0.875rem;\n            line-height: 1.4;\n        }\n        \n        .install-banner-button {\n            background: rgba(255, 255, 255, 0.2);\n            border: none;\n            color: white;\n            padding: 0.5rem 1rem;\n            border-radius: 6px;\n            font-size: 0.875rem;\n            cursor: pointer;\n            transition: background 0.2s;\n        }\n        \n        .install-banner-button:hover {\n            background: rgba(255, 255, 255, 0.3);\n        }\n        \n        .install-banner-close {\n            background: none;\n            border: none;\n            color: white;\n            font-size: 1.2rem;\n            cursor: pointer;\n            padding: 0.25rem;\n            line-height: 1;\n        }\n    </style>\n    \n    <!-- Preload Critical Resources -->\n    <link rel=\"preload\" href=\"mobile_optimizations.css\" as=\"style\">\n    <link rel=\"preload\" href=\"unified_styles.css\" as=\"style\">\n    <link rel=\"preload\" href=\"mobile_integration_hub.js\" as=\"script\">\n    \n    <!-- DNS Prefetch for External Resources -->\n    <link rel=\"dns-prefetch\" href=\"//cdnjs.cloudflare.com\">\n    <link rel=\"dns-prefetch\" href=\"//cdn.jsdelivr.net\">\n    \n    <!-- Stylesheets -->\n    <link rel=\"stylesheet\" href=\"mobile_optimizations.css\">\n    <link rel=\"stylesheet\" href=\"unified_styles.css\">\n    <link rel=\"stylesheet\" href=\"gallery.css\">\n    <link rel=\"stylesheet\" href=\"icons.css\">\n</head>\n<body>\n    <!-- App Loading Screen -->\n    <div class=\"app-loading\">\n        <div class=\"loading-content\">\n            <div class=\"loading-logo\">💋</div>\n            <div class=\"loading-text\">绛唇解语花</div>\n            <div class=\"loading-subtext\">专业唇部美学系统正在加载...</div>\n            <div class=\"loading-progress\">\n                <div class=\"loading-progress-bar\"></div>\n            </div>\n        </div>\n    </div>\n    \n    <!-- Main App Container -->\n    <div id=\"app\" class=\"mobile-app-shell\">\n        <!-- Mobile Header -->\n        <header class=\"mobile-header\">\n            <button class=\"mobile-header-action\" id=\"menu-btn\" aria-label=\"菜单\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n                </svg>\n            </button>\n            <h1 class=\"mobile-header-title\">绛唇解语花</h1>\n            <button class=\"mobile-header-action\" id=\"notifications-btn\" aria-label=\"通知\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z\"/>\n                </svg>\n            </button>\n        </header>\n        \n        <!-- Main Content -->\n        <main class=\"mobile-main\" id=\"main-content\">\n            <!-- Content will be loaded dynamically -->\n        </main>\n        \n        <!-- Bottom Navigation -->\n        <nav class=\"mobile-nav\" role=\"navigation\" aria-label=\"主导航\">\n            <a href=\"#gallery\" class=\"mobile-nav-item active\" data-view=\"gallery\" aria-label=\"案例画廊\">\n                <svg class=\"mobile-nav-icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z\"/>\n                </svg>\n                <div class=\"mobile-nav-label\">画廊</div>\n            </a>\n            <a href=\"#3d\" class=\"mobile-nav-item\" data-view=\"3d\" aria-label=\"3D查看器\">\n                <svg class=\"mobile-nav-icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                </svg>\n                <div class=\"mobile-nav-label\">3D</div>\n            </a>\n            <a href=\"#ar\" class=\"mobile-nav-item\" data-view=\"ar\" aria-label=\"AR体验\">\n                <svg class=\"mobile-nav-icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-4-4h-2v2h2V7zm0-4h-2v2h2V3zm4 4h-2v2h2V7zm0 8h-2v2h2v-2zm-8-8H7v2h2V7zm0 8H7v2h2v-2z\"/>\n                </svg>\n                <div class=\"mobile-nav-label\">AR</div>\n            </a>\n            <a href=\"#analytics\" class=\"mobile-nav-item\" data-view=\"analytics\" aria-label=\"分析\">\n                <svg class=\"mobile-nav-icon\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n                </svg>\n                <div class=\"mobile-nav-label\">分析</div>\n            </a>\n        </nav>\n    </div>\n    \n    <!-- Installation Banner -->\n    <div class=\"install-banner\" id=\"install-banner\">\n        <div class=\"install-banner-content\">\n            <div class=\"install-banner-icon\">📱</div>\n            <div class=\"install-banner-text\">\n                <strong>安装绛唇解语花应用</strong><br>\n                获得更好的移动体验，支持离线使用\n            </div>\n            <button class=\"install-banner-button\" id=\"install-button\">安装</button>\n            <button class=\"install-banner-close\" id=\"install-close\" aria-label=\"关闭\">×</button>\n        </div>\n    </div>\n    \n    <!-- Core Scripts -->\n    <script>\n        // Critical performance monitoring\n        if ('performance' in window && 'measure' in performance) {\n            performance.mark('app-start');\n        }\n        \n        // App state\n        window.appState = {\n            isLoading: true,\n            currentView: 'gallery',\n            isOnline: navigator.onLine,\n            isInstalled: window.matchMedia('(display-mode: standalone)').matches,\n            hasNotificationPermission: 'Notification' in window ? Notification.permission === 'granted' : false\n        };\n        \n        // Service Worker Registration\n        if ('serviceWorker' in navigator) {\n            window.addEventListener('load', async () => {\n                try {\n                    const registration = await navigator.serviceWorker.register('/service_worker.js', {\n                        scope: '/'\n                    });\n                    \n                    console.log('✅ Service Worker registered:', registration.scope);\n                    \n                    // Handle updates\n                    registration.addEventListener('updatefound', () => {\n                        const newWorker = registration.installing;\n                        newWorker.addEventListener('statechange', () => {\n                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                                showUpdateNotification();\n                            }\n                        });\n                    });\n                    \n                } catch (error) {\n                    console.error('❌ Service Worker registration failed:', error);\n                }\n            });\n        }\n        \n        // PWA Installation\n        let deferredPrompt;\n        \n        window.addEventListener('beforeinstallprompt', (e) => {\n            e.preventDefault();\n            deferredPrompt = e;\n            \n            // Show install banner after delay\n            setTimeout(() => {\n                if (!window.appState.isInstalled) {\n                    showInstallBanner();\n                }\n            }, 10000);\n        });\n        \n        function showInstallBanner() {\n            const banner = document.getElementById('install-banner');\n            if (banner) {\n                banner.classList.add('show');\n            }\n        }\n        \n        function hideInstallBanner() {\n            const banner = document.getElementById('install-banner');\n            if (banner) {\n                banner.classList.remove('show');\n            }\n        }\n        \n        // Install button handler\n        document.getElementById('install-button')?.addEventListener('click', async () => {\n            if (deferredPrompt) {\n                deferredPrompt.prompt();\n                const { outcome } = await deferredPrompt.userChoice;\n                \n                if (outcome === 'accepted') {\n                    console.log('✅ User accepted the install prompt');\n                } else {\n                    console.log('❌ User dismissed the install prompt');\n                }\n                \n                deferredPrompt = null;\n                hideInstallBanner();\n            }\n        });\n        \n        // Close banner handler\n        document.getElementById('install-close')?.addEventListener('click', () => {\n            hideInstallBanner();\n        });\n        \n        // App initialization\n        function initializeApp() {\n            // Hide loading screen\n            document.body.classList.add('app-ready');\n            window.appState.isLoading = false;\n            \n            // Performance measurement\n            if ('performance' in window && 'measure' in performance) {\n                performance.mark('app-ready');\n                performance.measure('app-load-time', 'app-start', 'app-ready');\n                \n                const measure = performance.getEntriesByName('app-load-time')[0];\n                console.log(`📊 App load time: ${measure.duration.toFixed(2)}ms`);\n            }\n            \n            // Initialize components\n            initializeNavigation();\n            initializeGestures();\n            initializeNotifications();\n            \n            console.log('🎉 App initialized successfully');\n        }\n        \n        function initializeNavigation() {\n            const navItems = document.querySelectorAll('.mobile-nav-item');\n            \n            navItems.forEach(item => {\n                item.addEventListener('click', (e) => {\n                    e.preventDefault();\n                    const view = item.dataset.view;\n                    switchToView(view);\n                });\n            });\n        }\n        \n        function switchToView(view) {\n            // Update navigation state\n            document.querySelectorAll('.mobile-nav-item').forEach(item => {\n                item.classList.toggle('active', item.dataset.view === view);\n            });\n            \n            // Load view content\n            loadViewContent(view);\n            \n            window.appState.currentView = view;\n        }\n        \n        function loadViewContent(view) {\n            const mainContent = document.getElementById('main-content');\n            \n            // Show loading state\n            mainContent.innerHTML = `\n                <div style=\"display: flex; align-items: center; justify-content: center; min-height: 50vh;\">\n                    <div style=\"text-align: center;\">\n                        <div style=\"width: 40px; height: 40px; border: 3px solid rgba(212, 175, 55, 0.2); border-top: 3px solid #d4af37; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;\"></div>\n                        <div style=\"color: var(--mobile-text-secondary);\">正在加载 ${getViewTitle(view)}...</div>\n                    </div>\n                </div>\n            `;\n            \n            // Load view-specific content\n            setTimeout(() => {\n                mainContent.innerHTML = getViewContent(view);\n            }, 500);\n        }\n        \n        function getViewTitle(view) {\n            const titles = {\n                gallery: '案例画廊',\n                '3d': '3D查看器',\n                ar: 'AR体验',\n                analytics: '数据分析'\n            };\n            return titles[view] || view;\n        }\n        \n        function getViewContent(view) {\n            switch (view) {\n                case 'gallery':\n                    return `\n                        <div style=\"padding: 1rem;\">\n                            <h2 style=\"color: var(--mobile-primary); margin-bottom: 1rem;\">📸 案例画廊</h2>\n                            <p style=\"color: var(--mobile-text-secondary); margin-bottom: 2rem;\">专业唇部美学案例展示，支持触摸手势和AR预览</p>\n                            <div class=\"mobile-gallery\">\n                                ${generateGalleryItems()}\n                            </div>\n                        </div>\n                    `;\n                case '3d':\n                    return `\n                        <div style=\"padding: 1rem;\">\n                            <h2 style=\"color: var(--mobile-primary); margin-bottom: 1rem;\">🎯 3D查看器</h2>\n                            <p style=\"color: var(--mobile-text-secondary); margin-bottom: 2rem;\">高性能移动3D渲染，支持手势控制</p>\n                            <div class=\"webgl-container\" style=\"height: 400px; background: var(--mobile-surface); border-radius: 12px; display: flex; align-items: center; justify-content: center;\">\n                                <div style=\"text-align: center; color: var(--mobile-text-secondary);\">\n                                    <div style=\"font-size: 3rem; margin-bottom: 1rem;\">🦷</div>\n                                    <div>3D唇部解剖模型</div>\n                                    <div style=\"font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.7;\">触摸旋转 • 双指缩放</div>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                case 'ar':\n                    return `\n                        <div style=\"padding: 1rem;\">\n                            <h2 style=\"color: var(--mobile-primary); margin-bottom: 1rem;\">📱 AR体验</h2>\n                            <p style=\"color: var(--mobile-text-secondary); margin-bottom: 2rem;\">实时面部识别和唇部追踪技术</p>\n                            <div style=\"height: 400px; background: var(--mobile-surface); border-radius: 12px; display: flex; align-items: center; justify-content: center;\">\n                                <div style=\"text-align: center; color: var(--mobile-text-secondary);\">\n                                    <div style=\"font-size: 3rem; margin-bottom: 1rem;\">📷</div>\n                                    <div>AR唇部分析</div>\n                                    <div style=\"font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.7;\">需要摄像头权限</div>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                case 'analytics':\n                    return `\n                        <div style=\"padding: 1rem;\">\n                            <h2 style=\"color: var(--mobile-primary); margin-bottom: 1rem;\">📊 数据分析</h2>\n                            <p style=\"color: var(--mobile-text-secondary); margin-bottom: 2rem;\">实时性能监控和用户行为分析</p>\n                            <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;\">\n                                <div style=\"background: var(--mobile-surface); padding: 1rem; border-radius: 8px; text-align: center;\">\n                                    <div style=\"font-size: 1.5rem; margin-bottom: 0.5rem;\">⚡</div>\n                                    <div style=\"font-size: 0.875rem; color: var(--mobile-text-secondary);\">性能监控</div>\n                                    <div style=\"font-size: 1.25rem; color: var(--mobile-primary); margin-top: 0.5rem;\">60 FPS</div>\n                                </div>\n                                <div style=\"background: var(--mobile-surface); padding: 1rem; border-radius: 8px; text-align: center;\">\n                                    <div style=\"font-size: 1.5rem; margin-bottom: 0.5rem;\">🔋</div>\n                                    <div style=\"font-size: 0.875rem; color: var(--mobile-text-secondary);\">电池优化</div>\n                                    <div style=\"font-size: 1.25rem; color: var(--mobile-primary); margin-top: 0.5rem;\">100%</div>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                default:\n                    return '<div style=\"padding: 2rem; text-align: center; color: var(--mobile-text-secondary);\">页面不存在</div>';\n            }\n        }\n        \n        function generateGalleryItems() {\n            let items = '';\n            for (let i = 1; i <= 6; i++) {\n                items += `\n                    <div class=\"mobile-gallery-item\" style=\"background: linear-gradient(45deg, var(--mobile-primary), #b8941f); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; cursor: pointer;\" onclick=\"showNotification('查看案例 ${i}', 'info')\">\n                        📷 ${i}\n                        <div class=\"mobile-gallery-overlay\">\n                            <div>案例 ${String(i).padStart(3, '0')}</div>\n                        </div>\n                    </div>\n                `;\n            }\n            return items;\n        }\n        \n        function initializeGestures() {\n            // Initialize gesture handling\n            console.log('🤲 Gesture system initialized');\n        }\n        \n        function initializeNotifications() {\n            const notificationsBtn = document.getElementById('notifications-btn');\n            if (notificationsBtn) {\n                notificationsBtn.addEventListener('click', () => {\n                    if ('Notification' in window) {\n                        if (Notification.permission === 'granted') {\n                            showNotification('通知功能已启用', 'success');\n                        } else if (Notification.permission !== 'denied') {\n                            Notification.requestPermission().then(permission => {\n                                if (permission === 'granted') {\n                                    showNotification('通知权限已授予', 'success');\n                                    window.appState.hasNotificationPermission = true;\n                                }\n                            });\n                        } else {\n                            showNotification('请在浏览器设置中启用通知', 'warning');\n                        }\n                    } else {\n                        showNotification('浏览器不支持通知功能', 'error');\n                    }\n                });\n            }\n        }\n        \n        function showNotification(message, type = 'info') {\n            const notification = document.createElement('div');\n            notification.style.cssText = `\n                position: fixed;\n                top: calc(var(--mobile-header-height) + var(--mobile-safe-area-top) + 20px);\n                left: 20px;\n                right: 20px;\n                padding: 1rem;\n                border-radius: 8px;\n                color: white;\n                font-weight: 500;\n                z-index: 10000;\n                transform: translateY(-100px);\n                transition: transform 0.3s ease;\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n            `;\n            \n            const colors = {\n                info: '#2196F3',\n                success: '#4CAF50',\n                warning: '#FF9800',\n                error: '#F44336'\n            };\n            \n            notification.style.background = colors[type] || colors.info;\n            notification.textContent = message;\n            \n            document.body.appendChild(notification);\n            \n            setTimeout(() => notification.style.transform = 'translateY(0)', 100);\n            setTimeout(() => {\n                notification.style.transform = 'translateY(-100px)';\n                setTimeout(() => notification.remove(), 300);\n            }, 3000);\n        }\n        \n        function showUpdateNotification() {\n            showNotification('应用已更新，刷新页面以获取最新版本', 'info');\n        }\n        \n        // Network status monitoring\n        window.addEventListener('online', () => {\n            window.appState.isOnline = true;\n            showNotification('网络连接已恢复', 'success');\n        });\n        \n        window.addEventListener('offline', () => {\n            window.appState.isOnline = false;\n            showNotification('已切换到离线模式', 'warning');\n        });\n        \n        // Initialize app when DOM is ready\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', initializeApp);\n        } else {\n            initializeApp();\n        }\n    </script>\n    \n    <!-- Load additional scripts asynchronously -->\n    <script async src=\"mobile_integration_hub.js\"></script>\n    <script async src=\"responsive_image_delivery.js\"></script>\n    <script async src=\"push_notification_system.js\"></script>\n    <script async src=\"mobile_gestures.js\"></script>\n    \n    <!-- Performance monitoring -->\n    <script>\n        // Monitor Core Web Vitals\n        if ('PerformanceObserver' in window) {\n            // Largest Contentful Paint\n            new PerformanceObserver((entryList) => {\n                for (const entry of entryList.getEntries()) {\n                    console.log('📊 LCP:', entry.startTime);\n                }\n            }).observe({ entryTypes: ['largest-contentful-paint'] });\n            \n            // First Input Delay\n            new PerformanceObserver((entryList) => {\n                for (const entry of entryList.getEntries()) {\n                    console.log('📊 FID:', entry.processingStart - entry.startTime);\n                }\n            }).observe({ entryTypes: ['first-input'] });\n            \n            // Cumulative Layout Shift\n            new PerformanceObserver((entryList) => {\n                for (const entry of entryList.getEntries()) {\n                    if (!entry.hadRecentInput) {\n                        console.log('📊 CLS:', entry.value);\n                    }\n                }\n            }).observe({ entryTypes: ['layout-shift'] });\n        }\n    </script>\n</body>\n</html>"
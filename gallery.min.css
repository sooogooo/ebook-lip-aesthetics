:root{--primary-color:#E91E63;--primary-dark:#AD1457;--primary-light:#F8BBD9;--secondary-color:#2196F3;--success-color:#4CAF50;--warning-color:#FF9800;--error-color:#F44336;--text-primary:#212121;--text-secondary:#757575;--text-hint:#BDBDBD;--divider:#E0E0E0;--background:#FAFAFA;--surface:#FFF;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:16px;--spacing-lg:24px;--spacing-xl:32px;--spacing-xxl:48px;--shadow-1:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);--shadow-2:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);--shadow-3:0 10px 20px rgba(0,0,0,0.19),0 6px 6px rgba(0,0,0,0.23);--shadow-4:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);--duration-quick:150ms;--duration-normal:300ms;--duration-slow:450ms;--radius-sm:4px;--radius-md:8px;--radius-lg:16px;--radius-xl:24px}[data-theme="dark"]{--text-primary:#FFF;--text-secondary:#BBB;--text-hint:#777;--divider:#333;--background:#121212;--surface:#1E1E1E}*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:var(--background);color:var(--text-primary);line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.medical-gallery{position:relative;width:100%;min-height:100vh;padding:var(--spacing-lg)}.gallery-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xl);padding:var(--spacing-lg);background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow-1)}.gallery-title{font-size:2rem;font-weight:700;color:var(--primary-color);margin:0}.gallery-controls{display:flex;gap:var(--spacing-md);align-items:center}.search-container{position:relative;min-width:300px}.search-input{width:100%;padding:var(--spacing-md) var(--spacing-xl) var(--spacing-md) var(--spacing-lg);border:2px solid var(--divider);border-radius:var(--radius-lg);font-size:1rem;background:var(--surface);color:var(--text-primary);transition:border-color var(--duration-normal)}.search-input:focus{outline:none;border-color:var(--primary-color)}.search-icon{position:absolute;right:var(--spacing-md);top:50%;transform:translateY(-50%);color:var(--text-hint);pointer-events:none}.filter-container{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-lg);flex-wrap:wrap}.filter-group{display:flex;flex-direction:column;gap:var(--spacing-sm)}.filter-label{font-size:0.875rem;font-weight:600;color:var(--text-secondary)}.filter-select{padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--divider);border-radius:var(--radius-sm);background:var(--surface);color:var(--text-primary);font-size:0.875rem;min-width:120px}.view-toggle{display:flex;background:var(--surface);border-radius:var(--radius-sm);overflow:hidden;box-shadow:var(--shadow-1)}.view-btn{padding:var(--spacing-sm) var(--spacing-md);border:none;background:transparent;color:var(--text-secondary);cursor:pointer;transition:all var(--duration-normal);display:flex;align-items:center;gap:var(--spacing-xs)}.view-btn.active{background:var(--primary-color);color:white}.view-btn:hover:not(.active){background:var(--primary-light);color:var(--primary-dark)}.gallery-grid{display:grid;gap:var(--spacing-lg);margin-bottom:var(--spacing-xl)}.view-grid .gallery-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}.view-masonry .gallery-grid{columns:4;column-gap:var(--spacing-lg)}.view-masonry .gallery-item{break-inside:avoid;margin-bottom:var(--spacing-lg)}.view-list .gallery-grid{grid-template-columns:1fr}.view-list .gallery-item{display:flex;gap:var(--spacing-lg);align-items:center}.view-list .item-image{width:200px;height:150px;flex-shrink:0}.gallery-item{background:var(--surface);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-1);transition:all var(--duration-normal);cursor:pointer;position:relative}.gallery-item:hover{transform:translateY(-4px);box-shadow:var(--shadow-3)}.item-image{width:100%;height:200px;object-fit:cover;transition:transform var(--duration-slow)}.gallery-item:hover .item-image{transform:scale(1.05)}.item-content{padding:var(--spacing-lg)}.item-title{font-size:1.125rem;font-weight:600;margin-bottom:var(--spacing-sm);color:var(--text-primary)}.item-description{font-size:0.875rem;color:var(--text-secondary);margin-bottom:var(--spacing-md);line-height:1.4}.item-meta{display:flex;justify-content:space-between;align-items:center;font-size:0.75rem;color:var(--text-hint)}.item-tags{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.tag{padding:var(--spacing-xs) var(--spacing-sm);background:var(--primary-light);color:var(--primary-dark);border-radius:var(--radius-sm);font-size:0.75rem;font-weight:500}.item-actions{position:absolute;top:var(--spacing-md);right:var(--spacing-md);display:flex;gap:var(--spacing-sm);opacity:0;transition:opacity var(--duration-normal)}.gallery-item:hover .item-actions{opacity:1}.action-btn{width:36px;height:36px;border:none;border-radius:50%;background:rgba(255,255,255,0.9);color:var(--text-primary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--duration-normal);backdrop-filter:blur(10px)}.action-btn:hover{background:var(--primary-color);color:white;transform:scale(1.1)}.lightbox{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all var(--duration-normal)}.lightbox.active{opacity:1;visibility:visible}.lightbox-content{position:relative;max-width:90vw;max-height:90vh;background:var(--surface);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-4)}.lightbox-image{width:100%;height:auto;max-height:80vh;object-fit:contain}.lightbox-info{padding:var(--spacing-lg);background:var(--surface)}.lightbox-close{position:absolute;top:var(--spacing-md);right:var(--spacing-md);width:40px;height:40px;border:none;border-radius:50%;background:rgba(0,0,0,0.5);color:white;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.5rem;transition:all var(--duration-normal)}.lightbox-close:hover{background:rgba(0,0,0,0.8);transform:scale(1.1)}.comparison-mode{display:flex;gap:var(--spacing-lg)}.comparison-image{flex:1;position:relative;border-radius:var(--radius-md);overflow:hidden}.comparison-label{position:absolute;top:var(--spacing-md);left:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:rgba(0,0,0,0.7);color:white;border-radius:var(--radius-sm);font-size:0.875rem;font-weight:600}.loading-placeholder{display:flex;align-items:center;justify-content:center;height:200px;background:var(--divider);border-radius:var(--radius-lg);color:var(--text-hint)}.loading-spinner{width:40px;height:40px;border:3px solid var(--divider);border-top:3px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.pagination{display:flex;justify-content:center;align-items:center;gap:var(--spacing-md);margin-top:var(--spacing-xl)}.pagination-btn{padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--divider);background:var(--surface);color:var(--text-primary);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--duration-normal)}.pagination-btn:hover{background:var(--primary-color);color:white;border-color:var(--primary-color)}.pagination-btn.active{background:var(--primary-color);color:white;border-color:var(--primary-color)}.pagination-btn:disabled{opacity:0.5;cursor:not-allowed}@media (max-width:1200px){.view-masonry .gallery-grid{columns:3}}@media (max-width:768px){.gallery-header{flex-direction:column;gap:var(--spacing-lg);align-items:stretch}.gallery-controls{justify-content:space-between}.search-container{min-width:auto;flex:1}.filter-container{flex-direction:column}.view-masonry .gallery-grid{columns:2}.view-grid .gallery-grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}.view-list .gallery-item{flex-direction:column}.view-list .item-image{width:100%;height:200px}}@media (max-width:480px){.medical-gallery{padding:var(--spacing-md)}.gallery-header{padding:var(--spacing-md)}.view-masonry .gallery-grid{columns:1}.view-grid .gallery-grid{grid-template-columns:1fr}.item-content{padding:var(--spacing-md)}.lightbox-content{margin:var(--spacing-md);max-width:calc(100vw - 32px)}}@media print{.gallery-header,.filter-container,.pagination,.item-actions{display:none}.gallery-grid{display:block;columns:2;column-gap:20mm}.gallery-item{break-inside:avoid;margin-bottom:10mm;box-shadow:none;border:1px solid #ccc}}@media (prefers-reduced-motion:reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}}@media (prefers-contrast:high){:root{--primary-color:#000;--text-primary:#000;--background:#FFF;--surface:#FFF;--divider:#000}.gallery-item{border:2px solid var(--divider)}}.gallery-item:focus,.action-btn:focus,.view-btn:focus,.pagination-btn:focus{outline:2px solid var(--primary-color);outline-offset:2px}.gallery-item.selected{outline:3px solid var(--primary-color);outline-offset:-3px}.gallery-item.selected::before{content:'âœ“';position:absolute;top:var(--spacing-md);left:var(--spacing-md);width:24px;height:24px;background:var(--primary-color);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;z-index:10}.batch-toolbar{position:fixed;bottom:0;left:0;right:0;background:var(--surface);padding:var(--spacing-lg);box-shadow:var(--shadow-3);display:flex;justify-content:space-between;align-items:center;transform:translateY(100%);transition:transform var(--duration-normal);z-index:100}.batch-toolbar.active{transform:translateY(0)}.batch-info{font-weight:600;color:var(--text-primary)}.batch-actions{display:flex;gap:var(--spacing-md)}.batch-btn{padding:var(--spacing-sm) var(--spacing-lg);border:1px solid var(--primary-color);background:transparent;color:var(--primary-color);border-radius:var(--radius-sm);cursor:pointer;font-weight:600;transition:all var(--duration-normal)}.batch-btn:hover{background:var(--primary-color);color:white}.batch-btn.primary{background:var(--primary-color);color:white}.batch-btn.primary:hover{background:var(--primary-dark)}.empty-state{text-align:center;padding:var(--spacing-xxl);color:var(--text-secondary)}.empty-state-icon{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:0.5}.empty-state-title{font-size:1.5rem;font-weight:600;margin-bottom:var(--spacing-md)}.empty-state-description{font-size:1rem;line-height:1.6;max-width:400px;margin:0 auto}
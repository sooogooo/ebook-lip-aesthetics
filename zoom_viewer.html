<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ã€Šç»›å”‡è§£è¯­èŠ±ã€‹é«˜çº§äº¤äº’å¼å›¾ç‰‡ç¼©æ”¾æŸ¥çœ‹å™¨ - ä¸“ä¸ºåŒ»ç¾æ¡ˆä¾‹å±•ç¤ºè®¾è®¡">
    <meta name="keywords" content="å›¾ç‰‡æŸ¥çœ‹å™¨,ç¼©æ”¾,åŒ»ç¾,æ¡ˆä¾‹å±•ç¤º,å¯¹æ¯”,æ ‡æ³¨,æµ‹é‡">
    <title>ã€Šç»›å”‡è§£è¯­èŠ±ã€‹é«˜çº§å›¾ç‰‡ç¼©æ”¾æŸ¥çœ‹å™¨ - æ¼”ç¤ºé¡µé¢</title>

    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="zoom_viewer.css">

    <!-- é¡µé¢æ ·å¼ -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #ffffff;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .demo-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .demo-tab {
            flex: 1;
            padding: 16px 24px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #6c757d;
        }

        .demo-tab.active {
            background: #ffffff;
            color: #495057;
            font-weight: 600;
        }

        .demo-tab:hover:not(.active) {
            background: #e9ecef;
        }

        .demo-content {
            padding: 30px;
        }

        .demo-section {
            display: none;
        }

        .demo-section.active {
            display: block;
        }

        .demo-description {
            margin-bottom: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }

        .demo-description h3 {
            margin-bottom: 10px;
            color: #495057;
        }

        .demo-description p {
            color: #6c757d;
            line-height: 1.6;
        }

        .viewer-container {
            margin-bottom: 30px;
        }

        .controls-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .control-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .control-group h4 {
            margin-bottom: 15px;
            color: #495057;
        }

        .control-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .demo-button {
            padding: 8px 16px;
            background: #007bff;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s ease;
            font-size: 14px;
        }

        .demo-button:hover {
            background: #0056b3;
        }

        .demo-button.secondary {
            background: #6c757d;
        }

        .demo-button.secondary:hover {
            background: #545b62;
        }

        .demo-button.danger {
            background: #dc3545;
        }

        .demo-button.danger:hover {
            background: #bd2130;
        }

        .file-input {
            margin-bottom: 15px;
        }

        .file-input input[type="file"] {
            display: none;
        }

        .file-input label {
            display: inline-block;
            padding: 10px 20px;
            background: #28a745;
            color: #ffffff;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .file-input label:hover {
            background: #1e7e34;
        }

        .shortcuts-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #ffffff;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }

        .shortcut-key {
            background: #343a40;
            color: #ffffff;
            padding: 4px 8px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 12px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            text-align: center;
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 15px;
            background: #007bff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
        }

        .feature-card h4 {
            margin-bottom: 10px;
            color: #495057;
        }

        .feature-card p {
            color: #6c757d;
            line-height: 1.5;
            font-size: 14px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #ffffff;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .demo-content {
                padding: 20px;
            }

            .demo-tabs {
                flex-direction: column;
            }

            .controls-demo {
                grid-template-columns: 1fr;
            }
        }

        /* ç¤ºä¾‹å›¾ç‰‡æ ·å¼ */
        .sample-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .sample-image {
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease;
            border: 3px solid transparent;
        }

        .sample-image:hover {
            transform: scale(1.05);
            border-color: #007bff;
        }

        .sample-image img {
            width: 100%;
            height: 100px;
            object-fit: cover;
        }

        .sample-image .label {
            padding: 8px;
            background: #f8f9fa;
            text-align: center;
            font-size: 12px;
            color: #495057;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ã€Šç»›å”‡è§£è¯­èŠ±ã€‹</h1>
        <p>é«˜çº§äº¤äº’å¼å›¾ç‰‡ç¼©æ”¾æŸ¥çœ‹å™¨æ¼”ç¤º</p>
    </div>

    <div class="demo-container">
        <div class="demo-tabs">
            <button class="demo-tab active" onclick="showTab('basic')">åŸºç¡€åŠŸèƒ½</button>
            <button class="demo-tab" onclick="showTab('advanced')">é«˜çº§åŠŸèƒ½</button>
            <button class="demo-tab" onclick="showTab('comparison')">å¯¹æ¯”æ¨¡å¼</button>
            <button class="demo-tab" onclick="showTab('features')">åŠŸèƒ½ç‰¹æ€§</button>
        </div>

        <!-- åŸºç¡€åŠŸèƒ½æ¼”ç¤º -->
        <div id="basic" class="demo-section active">
            <div class="demo-content">
                <div class="demo-description">
                    <h3>åŸºç¡€å›¾ç‰‡æŸ¥çœ‹åŠŸèƒ½</h3>
                    <p>æ”¯æŒå›¾ç‰‡çš„å¹³æ»‘ç¼©æ”¾ã€æ‹–æ‹½å¹³ç§»ã€æ—‹è½¬ç­‰åŸºç¡€æ“ä½œã€‚ä½¿ç”¨é¼ æ ‡æ»šè½®æˆ–è§¦æ‘¸æ‰‹åŠ¿è¿›è¡Œç¼©æ”¾ï¼Œæ‹–æ‹½ç§»åŠ¨å›¾ç‰‡ä½ç½®ã€‚</p>
                </div>

                <div class="file-input">
                    <label for="image-upload">
                        <input type="file" id="image-upload" accept="image/*" onchange="loadCustomImage(this)">
                        ğŸ“ é€‰æ‹©å›¾ç‰‡æ–‡ä»¶
                    </label>
                </div>

                <div class="sample-images">
                    <div class="sample-image" onclick="loadSampleImage('https://picsum.photos/800/600?random=1')">
                        <img src="https://picsum.photos/150/100?random=1" alt="ç¤ºä¾‹å›¾ç‰‡1">
                        <div class="label">é£æ™¯å›¾ç‰‡</div>
                    </div>
                    <div class="sample-image" onclick="loadSampleImage('https://picsum.photos/800/600?random=2')">
                        <img src="https://picsum.photos/150/100?random=2" alt="ç¤ºä¾‹å›¾ç‰‡2">
                        <div class="label">å»ºç­‘å›¾ç‰‡</div>
                    </div>
                    <div class="sample-image" onclick="loadSampleImage('https://picsum.photos/800/600?random=3')">
                        <img src="https://picsum.photos/150/100?random=3" alt="ç¤ºä¾‹å›¾ç‰‡3">
                        <div class="label">äººç‰©å›¾ç‰‡</div>
                    </div>
                    <div class="sample-image" onclick="loadSampleImage('https://picsum.photos/800/600?random=4')">
                        <img src="https://picsum.photos/150/100?random=4" alt="ç¤ºä¾‹å›¾ç‰‡4">
                        <div class="label">è‰ºæœ¯å›¾ç‰‡</div>
                    </div>
                </div>

                <div class="viewer-container">
                    <div id="zoom-viewer-basic"></div>
                </div>

                <div class="controls-demo">
                    <div class="control-group">
                        <h4>ğŸ” ç¼©æ”¾æ§åˆ¶</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="viewer.zoomIn()">æ”¾å¤§ (+)</button>
                            <button class="demo-button" onclick="viewer.zoomOut()">ç¼©å° (-)</button>
                            <button class="demo-button secondary" onclick="viewer.zoomToFit()">é€‚åº”çª—å£</button>
                        </div>
                        <div class="control-row">
                            <button class="demo-button secondary" onclick="viewer.resetView()">é‡ç½®è§†å›¾</button>
                            <button class="demo-button secondary" onclick="viewer.rotate()">æ—‹è½¬ 90Â°</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h4>ğŸ® æ“ä½œæ¨¡å¼</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="setViewerMode('view')">æŸ¥çœ‹æ¨¡å¼</button>
                            <button class="demo-button" onclick="setViewerMode('measure')">æµ‹é‡æ¨¡å¼</button>
                        </div>
                        <div class="control-row">
                            <button class="demo-button" onclick="setViewerMode('annotate')">æ ‡æ³¨æ¨¡å¼</button>
                            <button class="demo-button secondary" onclick="viewer.toggleFullscreen()">å…¨å±åˆ‡æ¢</button>
                        </div>
                    </div>
                </div>

                <div class="control-group">
                    <h4>âŒ¨ï¸ é”®ç›˜å¿«æ·é”®</h4>
                    <div class="shortcuts-list">
                        <div class="shortcut-item">
                            <span>æ”¾å¤§</span>
                            <span class="shortcut-key">+ / =</span>
                        </div>
                        <div class="shortcut-item">
                            <span>ç¼©å°</span>
                            <span class="shortcut-key">-</span>
                        </div>
                        <div class="shortcut-item">
                            <span>é‡ç½®è§†å›¾</span>
                            <span class="shortcut-key">R</span>
                        </div>
                        <div class="shortcut-item">
                            <span>æ—‹è½¬</span>
                            <span class="shortcut-key">T</span>
                        </div>
                        <div class="shortcut-item">
                            <span>å…¨å±</span>
                            <span class="shortcut-key">F</span>
                        </div>
                        <div class="shortcut-item">
                            <span>æ¨¡å¼åˆ‡æ¢</span>
                            <span class="shortcut-key">1-4</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- é«˜çº§åŠŸèƒ½æ¼”ç¤º -->
        <div id="advanced" class="demo-section">
            <div class="demo-content">
                <div class="demo-description">
                    <h3>é«˜çº§åŠŸèƒ½æ¼”ç¤º</h3>
                    <p>åŒ…å«æµ‹é‡å·¥å…·ã€æ ‡æ³¨åŠŸèƒ½ã€æ•°æ®å¯¼å‡ºç­‰ä¸“ä¸šåŠŸèƒ½ï¼Œç‰¹åˆ«é€‚ç”¨äºåŒ»ç¾æ¡ˆä¾‹çš„ç²¾ç¡®åˆ†æå’Œæ ‡è®°ã€‚</p>
                </div>

                <div class="viewer-container">
                    <div id="zoom-viewer-advanced"></div>
                </div>

                <div class="controls-demo">
                    <div class="control-group">
                        <h4>ğŸ“ æµ‹é‡å·¥å…·</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="setAdvancedMode('measure')">å¯ç”¨æµ‹é‡</button>
                            <button class="demo-button secondary" onclick="clearMeasurements()">æ¸…é™¤æµ‹é‡</button>
                        </div>
                        <p style="font-size: 12px; color: #6c757d; margin-top: 10px;">
                            åœ¨æµ‹é‡æ¨¡å¼ä¸‹ï¼Œç‚¹å‡»å¹¶æ‹–æ‹½åˆ›å»ºæµ‹é‡çº¿æ®µ
                        </p>
                    </div>

                    <div class="control-group">
                        <h4>ğŸ“ æ ‡æ³¨åŠŸèƒ½</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="setAdvancedMode('annotate')">å¯ç”¨æ ‡æ³¨</button>
                            <button class="demo-button secondary" onclick="clearAnnotations()">æ¸…é™¤æ ‡æ³¨</button>
                        </div>
                        <p style="font-size: 12px; color: #6c757d; margin-top: 10px;">
                            åœ¨æ ‡æ³¨æ¨¡å¼ä¸‹ï¼Œç‚¹å‡»å›¾ç‰‡æ·»åŠ æ–‡å­—æ ‡æ³¨
                        </p>
                    </div>

                    <div class="control-group">
                        <h4>ğŸ’¾ æ•°æ®æ“ä½œ</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="exportAnnotations()">å¯¼å‡ºæ ‡æ³¨</button>
                            <button class="demo-button" onclick="captureScreenshot()">æˆªå›¾ä¿å­˜</button>
                        </div>
                        <div class="control-row">
                            <button class="demo-button secondary" onclick="document.getElementById('import-file').click()">å¯¼å…¥æ ‡æ³¨</button>
                            <input type="file" id="import-file" accept=".json" style="display:none" onchange="importAnnotations(this)">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¯¹æ¯”æ¨¡å¼æ¼”ç¤º -->
        <div id="comparison" class="demo-section">
            <div class="demo-content">
                <div class="demo-description">
                    <h3>å‰åå¯¹æ¯”åŠŸèƒ½</h3>
                    <p>ä¸“ä¸ºåŒ»ç¾æ¡ˆä¾‹è®¾è®¡çš„å‰åå¯¹æ¯”åŠŸèƒ½ï¼Œæ”¯æŒå¹¶æ’å¯¹æ¯”å’Œæ»‘åŠ¨å¯¹æ¯”ä¸¤ç§æ¨¡å¼ï¼Œä¾¿äºç›´è§‚å±•ç¤ºæ²»ç–—æ•ˆæœã€‚</p>
                </div>

                <div class="viewer-container">
                    <div id="zoom-viewer-comparison"></div>
                </div>

                <div class="controls-demo">
                    <div class="control-group">
                        <h4>ğŸ”„ å¯¹æ¯”æ¨¡å¼</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="loadComparisonImages()">åŠ è½½å¯¹æ¯”å›¾ç‰‡</button>
                            <button class="demo-button" onclick="setComparisonMode('compare')">å¯ç”¨å¯¹æ¯”</button>
                        </div>
                        <div class="control-row">
                            <button class="demo-button secondary" onclick="setComparisonMode('view')">é€€å‡ºå¯¹æ¯”</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h4>ğŸ“· ç¤ºä¾‹æ¡ˆä¾‹</h4>
                        <div class="control-row">
                            <button class="demo-button" onclick="loadBeforeAfter('lips')">å”‡éƒ¨æ¡ˆä¾‹</button>
                            <button class="demo-button" onclick="loadBeforeAfter('face')">é¢éƒ¨è½®å»“</button>
                        </div>
                        <div class="control-row">
                            <button class="demo-button" onclick="loadBeforeAfter('skin')">çš®è‚¤æŠ¤ç†</button>
                            <button class="demo-button" onclick="loadBeforeAfter('eye')">çœ¼éƒ¨æ•´å½¢</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŠŸèƒ½ç‰¹æ€§ -->
        <div id="features" class="demo-section">
            <div class="demo-content">
                <div class="demo-description">
                    <h3>å®Œæ•´åŠŸèƒ½ç‰¹æ€§</h3>
                    <p>ã€Šç»›å”‡è§£è¯­èŠ±ã€‹å›¾ç‰‡æŸ¥çœ‹å™¨æä¾›äº†ä¸“ä¸šçº§çš„å›¾ç‰‡æŸ¥çœ‹å’Œåˆ†æåŠŸèƒ½ï¼Œæ»¡è¶³åŒ»ç¾è¡Œä¸šçš„å„ç§éœ€æ±‚ã€‚</p>
                </div>

                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”</div>
                        <h4>é«˜ç²¾åº¦ç¼©æ”¾</h4>
                        <p>æ”¯æŒ0.1xè‡³10xå€æ•°ç¼©æ”¾ï¼Œé‡‡ç”¨GPUç¡¬ä»¶åŠ é€Ÿï¼Œç¡®ä¿åœ¨é«˜å€æ•°ä¸‹ä»ä¿æŒæµç•…ä½“éªŒ</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ‘†</div>
                        <h4>å¤šç‚¹è§¦æ§</h4>
                        <p>å®Œæ•´çš„ç§»åŠ¨ç«¯æ”¯æŒï¼ŒåŒ…æ‹¬åŒæŒ‡ç¼©æ”¾ã€æ‹–æ‹½å¹³ç§»ã€æƒ¯æ€§æ»šåŠ¨ç­‰æ‰‹åŠ¿æ“ä½œ</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>ç²¾ç¡®æµ‹é‡</h4>
                        <p>å†…ç½®æµ‹é‡å·¥å…·ï¼Œæ”¯æŒè·ç¦»æµ‹é‡ã€è§’åº¦è®¡ç®—ï¼Œæ»¡è¶³åŒ»ç¾æ¡ˆä¾‹çš„ç²¾ç¡®åˆ†æéœ€æ±‚</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>æ™ºèƒ½æ ‡æ³¨</h4>
                        <p>å¯æ·»åŠ æ–‡å­—æ ‡æ³¨å’Œæ ‡è®°ç‚¹ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºï¼Œä¾¿äºæ¡ˆä¾‹è®°å½•å’Œæ²Ÿé€š</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”„</div>
                        <h4>å¯¹æ¯”åˆ†æ</h4>
                        <p>ä¸“ä¸šçš„å‰åå¯¹æ¯”åŠŸèƒ½ï¼Œæ”¯æŒå¹¶æ’å¯¹æ¯”å’Œæ»‘åŠ¨å¯¹æ¯”ï¼Œç›´è§‚å±•ç¤ºæ²»ç–—æ•ˆæœ</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ–¥ï¸</div>
                        <h4>å…¨å±å±•ç¤º</h4>
                        <p>æ”¯æŒå…¨å±æ¨¡å¼ï¼Œæä¾›æ²‰æµ¸å¼çš„æŸ¥çœ‹ä½“éªŒï¼Œé€‚åˆä¸“ä¸šæ¼”ç¤ºå’Œåˆ†æ</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">âš¡</div>
                        <h4>æ€§èƒ½ä¼˜åŒ–</h4>
                        <p>é‡‡ç”¨WebGLç¡¬ä»¶åŠ é€Ÿï¼Œæ™ºèƒ½ç¼“å­˜å’Œæ‡’åŠ è½½ï¼Œç¡®ä¿åœ¨å¤§å›¾ç‰‡ä¸‹çš„æµç•…æ€§èƒ½</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">â™¿</div>
                        <h4>æ— éšœç¢æ”¯æŒ</h4>
                        <p>å®Œæ•´çš„é”®ç›˜å¯¼èˆªã€å±å¹•é˜…è¯»å™¨æ”¯æŒã€é«˜å¯¹æ¯”åº¦æ¨¡å¼ï¼Œç¬¦åˆWCAGæ ‡å‡†</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“±</div>
                        <h4>å“åº”å¼è®¾è®¡</h4>
                        <p>é€‚é…å„ç§å±å¹•å°ºå¯¸ï¼Œä»æ‰‹æœºåˆ°å¤§å±æ˜¾ç¤ºå™¨éƒ½èƒ½æä¾›æœ€ä½³çš„æŸ¥çœ‹ä½“éªŒ</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¨</div>
                        <h4>ä¸»é¢˜å®šåˆ¶</h4>
                        <p>æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œå¯æ ¹æ®ä½¿ç”¨ç¯å¢ƒå’Œä¸ªäººå–œå¥½è°ƒæ•´ç•Œé¢é£æ ¼</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¾</div>
                        <h4>æ•°æ®å¯¼å‡º</h4>
                        <p>æ”¯æŒæˆªå›¾ä¿å­˜ã€æ ‡æ³¨æ•°æ®å¯¼å‡ºã€æ‰“å°ä¼˜åŒ–ç­‰åŠŸèƒ½ï¼Œä¾¿äºæ¡ˆä¾‹å½’æ¡£</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”’</div>
                        <h4>å®‰å…¨å¯é </h4>
                        <p>å®¢æˆ·ç«¯å¤„ç†ï¼Œæ— éœ€ä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨ï¼Œç¡®ä¿æ‚£è€…éšç§å’Œæ•°æ®å®‰å…¨</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>&copy; 2024 ã€Šç»›å”‡è§£è¯­èŠ±ã€‹åŒ»ç¾æ¡ˆä¾‹å±•ç¤ºç³»ç»Ÿ - ä¸“ä¸šå›¾ç‰‡æŸ¥çœ‹å™¨æ¼”ç¤º</p>
        <p>é€‚ç”¨äºåŒ»ç¾å’¨è¯¢ã€æ¡ˆä¾‹å±•ç¤ºã€æ•ˆæœå¯¹æ¯”ç­‰ä¸“ä¸šåœºæ™¯</p>
    </div>

    <!-- è„šæœ¬æ–‡ä»¶ -->
    <script src="zoom_viewer.js"></script>

    <!-- æ¼”ç¤ºè„šæœ¬ -->
    <script>
        // å…¨å±€å˜é‡
        let viewer = null;
        let advancedViewer = null;
        let comparisonViewer = null;

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeViewers();
        });

        // åˆå§‹åŒ–æ‰€æœ‰æŸ¥çœ‹å™¨
        function initializeViewers() {
            // åŸºç¡€åŠŸèƒ½æŸ¥çœ‹å™¨
            viewer = new AdvancedZoomViewer('zoom-viewer-basic', {
                enableMeasurement: true,
                enableAnnotations: true,
                enableFullscreen: true
            });

            // é«˜çº§åŠŸèƒ½æŸ¥çœ‹å™¨
            advancedViewer = new AdvancedZoomViewer('zoom-viewer-advanced', {
                enableMeasurement: true,
                enableAnnotations: true,
                enableFullscreen: true
            });

            // å¯¹æ¯”åŠŸèƒ½æŸ¥çœ‹å™¨
            comparisonViewer = new AdvancedZoomViewer('zoom-viewer-comparison', {
                enableMeasurement: false,
                enableAnnotations: true,
                enableFullscreen: true
            });

            // åŠ è½½é»˜è®¤å›¾ç‰‡
            loadSampleImage('https://picsum.photos/800/600?random=1');
            advancedViewer.loadImage('https://picsum.photos/800/600?random=2');
            comparisonViewer.loadImage('https://picsum.photos/800/600?random=3');
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µ
            const sections = document.querySelectorAll('.demo-section');
            sections.forEach(section => section.classList.remove('active'));

            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
            const tabs = document.querySelectorAll('.demo-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // åŠ è½½ç¤ºä¾‹å›¾ç‰‡
        function loadSampleImage(url) {
            if (viewer) {
                viewer.loadImage(url);
            }
        }

        // åŠ è½½è‡ªå®šä¹‰å›¾ç‰‡
        function loadCustomImage(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    if (viewer) {
                        viewer.loadImage(e.target.result);
                    }
                };

                reader.readAsDataURL(file);
            }
        }

        // è®¾ç½®æŸ¥çœ‹å™¨æ¨¡å¼
        function setViewerMode(mode) {
            if (viewer) {
                viewer.setMode(mode);
            }
        }

        // è®¾ç½®é«˜çº§æŸ¥çœ‹å™¨æ¨¡å¼
        function setAdvancedMode(mode) {
            if (advancedViewer) {
                advancedViewer.setMode(mode);
            }
        }

        // è®¾ç½®å¯¹æ¯”æŸ¥çœ‹å™¨æ¨¡å¼
        function setComparisonMode(mode) {
            if (comparisonViewer) {
                comparisonViewer.setMode(mode);
            }
        }

        // æ¸…é™¤æµ‹é‡
        function clearMeasurements() {
            if (advancedViewer) {
                advancedViewer.clearMeasurements();
            }
        }

        // æ¸…é™¤æ ‡æ³¨
        function clearAnnotations() {
            if (advancedViewer) {
                advancedViewer.clearAnnotations();
            }
        }

        // å¯¼å‡ºæ ‡æ³¨
        function exportAnnotations() {
            if (advancedViewer) {
                const data = advancedViewer.exportAnnotations();
                const blob = new Blob([data], { type: 'application/json' });
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = 'annotations.json';
                a.click();

                URL.revokeObjectURL(url);
            }
        }

        // å¯¼å…¥æ ‡æ³¨
        function importAnnotations(input) {
            if (input.files && input.files[0] && advancedViewer) {
                const file = input.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    advancedViewer.importAnnotations(e.target.result);
                };

                reader.readAsText(file);
            }
        }

        // æˆªå›¾ä¿å­˜
        function captureScreenshot() {
            if (advancedViewer) {
                const dataUrl = advancedViewer.captureScreenshot();

                const a = document.createElement('a');
                a.href = dataUrl;
                a.download = 'screenshot.png';
                a.click();
            }
        }

        // åŠ è½½å¯¹æ¯”å›¾ç‰‡
        function loadComparisonImages() {
            if (comparisonViewer) {
                const beforeUrl = 'https://picsum.photos/800/600?random=5';
                const afterUrl = 'https://picsum.photos/800/600?random=6';
                comparisonViewer.loadImage(afterUrl, beforeUrl);
            }
        }

        // åŠ è½½ç‰¹å®šæ¡ˆä¾‹
        function loadBeforeAfter(caseType) {
            if (!comparisonViewer) return;

            let beforeUrl, afterUrl;

            switch(caseType) {
                case 'lips':
                    beforeUrl = 'https://picsum.photos/800/600?random=7';
                    afterUrl = 'https://picsum.photos/800/600?random=8';
                    break;
                case 'face':
                    beforeUrl = 'https://picsum.photos/800/600?random=9';
                    afterUrl = 'https://picsum.photos/800/600?random=10';
                    break;
                case 'skin':
                    beforeUrl = 'https://picsum.photos/800/600?random=11';
                    afterUrl = 'https://picsum.photos/800/600?random=12';
                    break;
                case 'eye':
                    beforeUrl = 'https://picsum.photos/800/600?random=13';
                    afterUrl = 'https://picsum.photos/800/600?random=14';
                    break;
                default:
                    beforeUrl = 'https://picsum.photos/800/600?random=15';
                    afterUrl = 'https://picsum.photos/800/600?random=16';
            }

            comparisonViewer.loadImage(afterUrl, beforeUrl);
            comparisonViewer.setMode('compare');
        }

        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
        });

        // é”®ç›˜å¿«æ·é”®å…¨å±€å¤„ç†
        document.addEventListener('keydown', function(e) {
            // å¦‚æœåœ¨è¾“å…¥æ¡†ä¸­ï¼Œä¸å¤„ç†å¿«æ·é”®
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }

            switch(e.key) {
                case 'h':
                case 'H':
                    e.preventDefault();
                    showHelp();
                    break;
                case '1':
                    e.preventDefault();
                    showTab('basic');
                    break;
                case '2':
                    e.preventDefault();
                    showTab('advanced');
                    break;
                case '3':
                    e.preventDefault();
                    showTab('comparison');
                    break;
                case '4':
                    e.preventDefault();
                    showTab('features');
                    break;
            }
        });

        // æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
        function showHelp() {
            alert(`
ã€Šç»›å”‡è§£è¯­èŠ±ã€‹å›¾ç‰‡æŸ¥çœ‹å™¨å¿«æ·é”®ï¼š

åŸºç¡€æ“ä½œï¼š
â€¢ +/= : æ”¾å¤§
â€¢ - : ç¼©å°
â€¢ R : é‡ç½®è§†å›¾
â€¢ T : æ—‹è½¬
â€¢ F : å…¨å±åˆ‡æ¢

æ¨¡å¼åˆ‡æ¢ï¼š
â€¢ 1 : æŸ¥çœ‹æ¨¡å¼
â€¢ 2 : æµ‹é‡æ¨¡å¼
â€¢ 3 : æ ‡æ³¨æ¨¡å¼
â€¢ 4 : å¯¹æ¯”æ¨¡å¼

æ ‡ç­¾é¡µåˆ‡æ¢ï¼š
â€¢ 1-4 æ•°å­—é”® : åˆ‡æ¢æ¼”ç¤ºæ ‡ç­¾é¡µ
â€¢ H : æ˜¾ç¤ºæ­¤å¸®åŠ©

é¼ æ ‡æ“ä½œï¼š
â€¢ æ»šè½® : ç¼©æ”¾
â€¢ æ‹–æ‹½ : å¹³ç§»
â€¢ åŒå‡» : æ™ºèƒ½ç¼©æ”¾
            `);
        }

        // æ€§èƒ½ç›‘æ§
        let performanceMonitor = {
            start: performance.now(),

            log: function(event) {
                const now = performance.now();
                console.log(`[æ€§èƒ½] ${event}: ${(now - this.start).toFixed(2)}ms`);
                this.start = now;
            }
        };

        // é¡µé¢åŠ è½½æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            performanceMonitor.log('é¡µé¢å®Œå…¨åŠ è½½');
        });
    </script>
</body>
</html>